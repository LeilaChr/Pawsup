{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _excluded = [\"label\", \"icon\", \"isPassword\", \"hidePassword\", \"setHidePassword\"];\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\tarus\\\\OneDrive\\\\Documents\\\\GitHub\\\\projectf21-plsgibjob\\\\PawsupApp\\\\pawsup-frontend\\\\screens\\\\Login.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport { StatusBar } from 'expo-status-bar';\nimport { Formik } from \"formik\";\nimport { Octicons, Ionicons, Fontisto } from \"@expo/vector-icons\";\nimport { LogInImage, StyledContainer, StyledContainer2, InnerContainer, PageLogo, PageTitle, SubTitle, StyledFormArea, LeftIcon, RightIcon, StyledInputLabel, StyledTextInput, StyledButton, MsgBox, Line, ExtraView, ExtraText, TextLink, TextLinkContent, Colours, ButtonText } from \"./../components/styles\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nvar brand = Colours.brand,\n    darkLight = Colours.darkLight,\n    primary = Colours.primary;\nimport KeyboardAvoidingWrapper from \"../components/KeyboardAvoidingWrapper\";\nimport axios from 'axios';\n\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      hidePassword = _useState2[0],\n      setHidePassword = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      messageType = _useState6[0],\n      setMessageType = _useState6[1];\n\n  var handleLogin = function handleLogin(credentials, setSubmitting) {\n    handleMessage(null);\n    var url = \"https://protected-shelf-96328.herokuapp.com/user/signin\";\n    axios.post(url, credentials).then(function (response) {\n      var result = response.data;\n      var status = result.status,\n          message = result.message,\n          data = result.data;\n\n      if (status !== 'SUCCESS') {\n        handleMessage(message, status);\n      } else {\n        navigation.navigate('Welcome', _objectSpread({}, data[0]));\n      }\n\n      setSubmitting(false);\n    }).catch(function (error) {\n      setSubmitting(false);\n      handleMessage('An error occurred. Check your network and try again');\n    });\n  };\n\n  var handleMessage = function handleMessage(message) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'FAILED';\n    setMessage(message);\n    setMessageType(type);\n  };\n\n  return React.createElement(StyledContainer2, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, React.createElement(ImageBackground, {\n    source: require(\"./../assets/Pawsup Main Page.png\"),\n    resizeMode: \"cover\",\n    style: styles.image,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, React.createElement(StatusBar, {\n    style: \"dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), React.createElement(InnerContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, React.createElement(PageTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Pawsup\"), React.createElement(SubTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"Account Login\"), React.createElement(Formik, {\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    onSubmit: function onSubmit(values, _ref2) {\n      var setSubmitting = _ref2.setSubmitting;\n\n      if (values.email == '' || values.password == '') {\n        handleMessage('Fill out all fields!');\n        setSubmitting(false);\n      } else {\n        handleLogin(values, setSubmitting);\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, function (_ref3) {\n    var handleChange = _ref3.handleChange,\n        handleBlur = _ref3.handleBlur,\n        handleSubmit = _ref3.handleSubmit,\n        values = _ref3.values,\n        isSubmitting = _ref3.isSubmitting;\n    return React.createElement(StyledFormArea, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, React.createElement(MyTextInput, {\n      label: \"Email Address\",\n      icon: \"mail\",\n      placeholder: \"Email\",\n      placeholderTextColor: darkLight,\n      onChangeText: handleChange('email'),\n      onBlur: handleBlur('email'),\n      value: values.email,\n      keyboardType: \"email-address\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }), React.createElement(MyTextInput, {\n      label: \"Password\",\n      icon: \"lock\",\n      placeholder: \"Password\",\n      placeholderTextColor: darkLight,\n      onChangeText: handleChange('password'),\n      onBlur: handleBlur('password'),\n      value: values.password,\n      secureTextEntry: hidePassword,\n      isPassword: true,\n      hidePassword: hidePassword,\n      setHidePassword: setHidePassword,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 33\n      }\n    }), React.createElement(MsgBox, {\n      type: messageType,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 33\n      }\n    }, message), !isSubmitting && React.createElement(StyledButton, {\n      onPress: handleSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 37\n      }\n    }, React.createElement(ButtonText, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 41\n      }\n    }, \"Login\")), isSubmitting && React.createElement(StyledButton, {\n      disabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 37\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: primary,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 41\n      }\n    })), React.createElement(ExtraView, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    }, React.createElement(ExtraText, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 37\n      }\n    }, \"Don't have an account? \"), React.createElement(TextLink, {\n      onPress: function onPress() {\n        return navigation.navigate('Signup');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 37\n      }\n    }, React.createElement(TextLinkContent, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 41\n      }\n    }, \"Signup\"))));\n  }))));\n};\n\nvar MyTextInput = function MyTextInput(_ref4) {\n  var label = _ref4.label,\n      icon = _ref4.icon,\n      isPassword = _ref4.isPassword,\n      hidePassword = _ref4.hidePassword,\n      setHidePassword = _ref4.setHidePassword,\n      props = _objectWithoutProperties(_ref4, _excluded);\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, React.createElement(LeftIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, React.createElement(Octicons, {\n    name: icon,\n    size: 30,\n    color: brand,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  })), React.createElement(StyledInputLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, label), React.createElement(StyledTextInput, _extends({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  })), isPassword && React.createElement(RightIcon, {\n    onPress: function onPress() {\n      setHidePassword(!hidePassword);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, React.createElement(Ionicons, {\n    name: hidePassword ? 'md-eye-off' : 'md-eye',\n    size: 30,\n    color: darkLight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\"\n  }\n});\nexport default Login;","map":{"version":3,"sources":["C:/Users/tarus/OneDrive/Documents/GitHub/projectf21-plsgibjob/PawsupApp/pawsup-frontend/screens/Login.js"],"names":["React","useState","StatusBar","Formik","Octicons","Ionicons","Fontisto","LogInImage","StyledContainer","StyledContainer2","InnerContainer","PageLogo","PageTitle","SubTitle","StyledFormArea","LeftIcon","RightIcon","StyledInputLabel","StyledTextInput","StyledButton","MsgBox","Line","ExtraView","ExtraText","TextLink","TextLinkContent","Colours","ButtonText","brand","darkLight","primary","KeyboardAvoidingWrapper","axios","Login","navigation","hidePassword","setHidePassword","message","setMessage","messageType","setMessageType","handleLogin","credentials","setSubmitting","handleMessage","url","post","then","response","result","data","status","navigate","catch","error","type","require","styles","image","email","password","values","handleChange","handleBlur","handleSubmit","isSubmitting","MyTextInput","label","icon","isPassword","props","StyleSheet","create","container","flex","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { StatusBar } from 'expo-status-bar';\r\n\r\n// Formik\r\nimport { Formik } from \"formik\";\r\n\r\n// Icons\r\nimport { Octicons, Ionicons, Fontisto } from \"@expo/vector-icons\"\r\n\r\nimport {\r\n    LogInImage,\r\n    StyledContainer,\r\n    StyledContainer2,\r\n    InnerContainer,\r\n    PageLogo,\r\n    PageTitle,\r\n    SubTitle,\r\n    StyledFormArea,\r\n    LeftIcon,\r\n    RightIcon,\r\n    StyledInputLabel,\r\n    StyledTextInput,\r\n    StyledButton,\r\n    MsgBox,\r\n    Line,\r\n    ExtraView,\r\n    ExtraText,\r\n    TextLink,\r\n    TextLinkContent,\r\n    Colours,\r\n    ButtonText,\r\n} from './../components/styles';\r\nimport { View, ActivityIndicator, ImageBackground, StyleSheet } from 'react-native';\r\n\r\n// Colours\r\nconst { brand, darkLight, primary } = Colours;\r\n\r\n// Keyboard Avoiding Wrapper\r\nimport KeyboardAvoidingWrapper from \"../components/KeyboardAvoidingWrapper\";\r\n\r\n// API Client\r\nimport axios from 'axios';\r\n\r\nconst Login = ({ navigation }) => {\r\n    const [hidePassword, setHidePassword] = useState(true);\r\n    const [message, setMessage] = useState();\r\n    const [messageType, setMessageType] = useState();\r\n\r\n    /*\r\n     * Handles querying the database via axios and server to attempt to signin. \r\n    */\r\n    const handleLogin = (credentials, setSubmitting) => {\r\n        handleMessage(null);\r\n        const url = \"https://protected-shelf-96328.herokuapp.com/user/signin\";\r\n\r\n        axios\r\n            .post(url, credentials)\r\n            .then((response) => {\r\n                const result = response.data;\r\n                const { status, message, data } = result;\r\n\r\n                if (status !== 'SUCCESS') {\r\n                    handleMessage(message, status);\r\n                } else {\r\n                    navigation.navigate('Welcome', { ...data[0] });\r\n                }\r\n                setSubmitting(false);\r\n            })\r\n            .catch((error) => {\r\n                setSubmitting(false);\r\n                handleMessage('An error occurred. Check your network and try again');\r\n            });\r\n    }\r\n\r\n    const handleMessage = (message, type = 'FAILED') => {\r\n        setMessage(message);\r\n        setMessageType(type);\r\n    }\r\n\r\n    return (\r\n            <StyledContainer2>\r\n                <ImageBackground\r\n                    source={require('./../assets/Pawsup Main Page.png')} resizeMode=\"cover\" style={styles.image}>\r\n                <StatusBar style=\"dark\" />\r\n                <InnerContainer>\r\n                    <PageTitle>Pawsup</PageTitle>\r\n                    <SubTitle>Account Login</SubTitle>\r\n                    <Formik\r\n                        initialValues={{ email: '', password: '' }}\r\n                        onSubmit={(values, { setSubmitting }) => {\r\n                            if (values.email == '' || values.password == '') {\r\n                                handleMessage('Fill out all fields!');\r\n                                setSubmitting(false);\r\n                            } else {\r\n                                handleLogin(values, setSubmitting);\r\n                            }\r\n                        }}\r\n                    >\r\n                        {({ handleChange, handleBlur, handleSubmit, values, isSubmitting }) => (\r\n                            <StyledFormArea>\r\n                                <MyTextInput\r\n                                    label=\"Email Address\"\r\n                                    icon=\"mail\"\r\n                                    placeholder=\"Email\"\r\n                                    placeholderTextColor={darkLight}\r\n                                    onChangeText={handleChange('email')}\r\n                                    onBlur={handleBlur('email')}\r\n                                    value={values.email}\r\n                                    keyboardType=\"email-address\"\r\n                                />\r\n\r\n                                <MyTextInput\r\n                                    label=\"Password\"\r\n                                    icon=\"lock\"\r\n                                    placeholder=\"Password\"\r\n                                    placeholderTextColor={darkLight}\r\n                                    onChangeText={handleChange('password')}\r\n                                    onBlur={handleBlur('password')}\r\n                                    value={values.password}\r\n                                    secureTextEntry={hidePassword}\r\n                                    isPassword={true}\r\n                                    hidePassword={hidePassword}\r\n                                    setHidePassword={setHidePassword}\r\n                                />\r\n\r\n                                <MsgBox type={messageType}>{message}</MsgBox>\r\n\r\n                                {!isSubmitting && (\r\n                                    <StyledButton onPress={handleSubmit}>\r\n                                        <ButtonText>Login</ButtonText>\r\n                                    </StyledButton>\r\n                                )}\r\n\r\n                                {isSubmitting && (\r\n                                    <StyledButton disabled={true}>\r\n                                        <ActivityIndicator size=\"large\" color={primary} />\r\n                                    </StyledButton>\r\n                                )}\r\n\r\n                                <ExtraView>\r\n                                    <ExtraText>Don't have an account? </ExtraText>\r\n                                    <TextLink onPress={() => navigation.navigate('Signup')}>\r\n                                        <TextLinkContent>Signup</TextLinkContent>\r\n                                    </TextLink>\r\n                                </ExtraView>\r\n                            </StyledFormArea>\r\n                        )}\r\n                    </Formik>\r\n                </InnerContainer>\r\n                </ImageBackground>\r\n            </StyledContainer2>\r\n    );\r\n};\r\n\r\nconst MyTextInput = ({ label, icon, isPassword, hidePassword, setHidePassword, ...props }) => {\r\n    return (\r\n        <View>\r\n            <LeftIcon>\r\n                <Octicons name={icon} size={30} color={brand} />\r\n            </LeftIcon>\r\n            <StyledInputLabel>{label}</StyledInputLabel>\r\n            <StyledTextInput {...props} />\r\n            {isPassword && (\r\n                <RightIcon\r\n                    onPress={() => {\r\n                        setHidePassword(!hidePassword);\r\n                    }}\r\n                >\r\n                    <Ionicons name={hidePassword ? 'md-eye-off' : 'md-eye'} size={30} color={darkLight} />\r\n                </RightIcon>\r\n            )}\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  image: {\r\n    flex: 1,\r\n    justifyContent: \"center\"\r\n  }\r\n});\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}